!function(e){"use strict";function t(e,t){for(var o in t)t[o]&&t[o].constructor&&t[o].constructor===Object?(e[o]=e[o]||{},arguments.callee(e[o],t[o])):e[o]=t[o];return e}function o(){this._done=[],this._fail=[]}o.prototype={execute:function(e,t){var o=e.length;for(t=Array.prototype.slice.call(t);o--;)e[o].apply(null,t)},resolve:function(){this.execute(this._done,arguments)},reject:function(){this.execute(this._fail,arguments)},done:function(e){this._done.push(e)},fail:function(e){this._fail.push(e)}};var n=function(e){var t=document.createElement("script");t.src="http://www.youtube.com/iframe_api";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(t,o),i(e)},i=function(t){"undefined"==typeof YT&&"undefined"==typeof e.loadingPlayer?(e.loadingPlayer=!0,e.d=new o,e.onYouTubeIframeAPIReady=function(){e.onYouTubeIframeAPIReady=null,e.d.resolve("done"),t()}):"object"==typeof YT?t():e.d.done(function(){t()})},a=function(o,n){this.defaults={ratio:16/9,videoId:"gxCaDMB6y18",mute:!0,repeat:!0,width:e.innerWidth,start:0,playerVars:{modestbranding:1,autoplay:1,controls:0,showinfo:0,wmode:"transparent",branding:0,rel:0,autohide:0},events:null},this.node=o||" ",this.userOptions=n||" ",this.options=t(this.defaults,this.userOptions),this._init(),this.node.setAttribute("style","position: relative; overflow: hidden;")};a.prototype={_addContainer:function(){var e=this,t=document.createElement("div");t.setAttribute("id",e.ID),t.setAttribute("class","tubeVideoplayer-container"),t.setAttribute("style","position: absolute; z-index: -5; width: 100%; height: 100%; top: 0;");var o=document.createElement("div");o.setAttribute("id",e.holderID),e.node.appendChild(t).appendChild(o)},_resize:function(e){var t,o,n=e.node,i=n.offsetWidth,a=n.offsetHeight,r=document.getElementById(e.holderID);i/e.options.ratio<a?(t=Math.ceil(a*e.options.ratio),e._getPlayer().setSize(t,a),r.style.left=(i-t)/2,r.style.top=0):(o=Math.ceil(i/e.options.ratio),e._getPlayer().setSize(i,o),r.style.left=0,r.style.top=0)},_onYouTubeIframeAPIReady:function(){var t=this;t.player=null,t.player=new e.YT.Player(t.holderID,t.options),console.log(t.player)},_onPlayerReady:function(e){this.options.mute&&e.target.mute(),e.target.playVideo()},_getPlayer:function(){return this.player},_init:function(){var t=this;return t.defaults.events={onReady:function(e){t._resize(t),t._onPlayerReady(e),"function"==typeof t.options.callback&&t.options.callback.call(this)},onStateChange:function(e){1===e.data?console.log("video loaded"):0===e.data&&t.options.repeat&&t.player.seekTo(t.options.start)}},t.ID=(new Date).getTime(),t.options.height=Math.ceil(t.node.offsetWidth/t.options.ratio),t.holderID="tubeVideo-ID-"+t.ID,t._addContainer(),e.addEventListener("resize",function(){t._resize(t)}),n(t._onYouTubeIframeAPIReady.bind(t)),t}},e.TubeVideo=a}(window);